<div class="rental-requests">
  <div class="rental-requests-filters">
    <div class="row">
      <div class="col-4 mt-2 col-sm-3 col-md-2">
        <button class="btn btn-outline" [ngClass]="{'btn-primary-outline':RequestType === 'history','btn-secondary':RequestType != 'history'}"
          (click)="selectedRequestType('history')">{{'RentalRequests.History' | translate}}</button>
      </div>
      <div class="col-4 mt-2 col-sm-3 col-md-2">
        <button class="btn btn-outline" [ngClass]="{'btn-primary-outline':RequestType === 'pending','btn-secondary':RequestType != 'pending'}"
          (click)="selectedRequestType('pending')">{{'RentalRequests.Pending' | translate}}</button>
      </div>
      <div class="col-4 mt-2 col-sm-3 col-md-2">
        <button class="btn btn-outline" [ngClass]="{'btn-primary-outline':RequestType === 'approved','btn-secondary':RequestType != 'approved'}"
          (click)="selectedRequestType('approved')">{{'RentalRequests.Approved' | translate}}</button>
      </div>
      <div class="col-4 mt-2 col-sm-3 col-md-2">
        <button class="btn btn-outline" [ngClass]="{'btn-primary-outline':RequestType === 'ongoing','btn-secondary':RequestType != 'ongoing'}"
          (click)="selectedRequestType('ongoing')">{{'RentalRequests.OnGoing' | translate}}</button>
      </div>
      <div class="col-4 mt-2 col-sm-3 col-md-2">
        <button class="btn btn-outline" [ngClass]="{'btn-primary-outline':RequestType === 'reject','btn-secondary':RequestType != 'reject'}"
          (click)="selectedRequestType('reject')">{{'RentalRequests.Reject' | translate}}</button>
      </div>
      <div class="col-4 mt-2 col-sm-3 col-md-2">
        <button class="btn btn-outline" [ngClass]="{'btn-primary-outline':RequestType === 'canceled','btn-secondary':RequestType != 'canceled'}"
          (click)="selectedRequestType('canceled')">{{'RentalRequests.Canceled' | translate}}</button>
      </div>
      <div class="col-4 mt-2 col-sm-3 col-md-2">
        <button class="btn btn-outline" [ngClass]="{'btn-primary-outline':RequestType === 'expire','btn-secondary':RequestType != 'expire'}"
          (click)="selectedRequestType('expired')">{{'RentalRequests.Expired' | translate}}</button>
      </div>
    </div>
  </div>

  <ng-container *ngFor="let request of TempRequestList; let i = index">
    <div class="rental-requests-requests">
      <div class="rental-requests-data">
        <span class="rental-requests-data_header">{{'RentalRequests.RequestId' | translate}}: {{request.requestNumber}}</span>
        <div class="rental-requests-data_picture">
          <img src="../../../assets/images/sea.jpeg" alt="img" width="150" height="150">
        </div>
        <ng-container *ngIf="request.status === 4">
          <span class="rental-requests_status--reject">{{'RentalRequests.Reject' | translate}}</span>
          <div class="rental-requests_bar--reject"></div>
        </ng-container>
      <ng-container *ngIf="request.status === 1">
          <span class="rental-requests_status--pending">{{'RentalRequests.Pending' | translate}}</span>
          <div class="rental-requests_bar--pending"></div>
        </ng-container>
        <ng-container *ngIf="request.status === 3 ">
          <span class="rental-requests_status--approved">{{'RentalRequests.OnGoing' | translate}}</span>
          <div class="rental-requests_bar--approved"></div>
        </ng-container>
        <ng-container *ngIf="request.status === 2 ">
          <span class="rental-requests_status--approved">{{'RentalRequests.Approved' | translate}}</span>
          <div class="rental-requests_bar--approved"></div>
        </ng-container>
        <ng-container *ngIf="request.status === 6 ">
          <span class="rental-requests_status--reject">{{'RentalRequests.Canceled' | translate}}</span>
          <div class="rental-requests_bar--reject"></div>
        </ng-container>
      </div>
      <div class="rental-requests-details">
        <div class=rental-requests-details--1>
          <span>{{request.unit.name}}</span>
        </div>
        <div class=rental-requests-details--2>
          <!-- <img class="mr-10px" src="../../../assets/images/sea.jpeg" alt="img" width="20" height="20"> -->
          <i class="fas fa-tags mr-10px color-gray"></i>
          <span class="color-blue">{{'RentalRequests.KD' | translate}} {{request.totalAmount}}</span>
        </div>
        <div class=rental-requests-details--2>
          <!-- <img class="mr-10px" src="../../../assets/images/sea.jpeg" alt="img" width="20" height="20"> -->
          <i class="fas fa-user-edit mr-10px color-gray"></i>
          <span *ngIf="request.unitType === 1">{{'RentalRequests.Single' | translate}}</span>
          <span *ngIf="request.unitType === 2">{{'RentalRequests.Family' | translate}}</span>
        </div>
        <div class=rental-requests-details--2>
          <!-- <img class="mr-10px" src="../../../assets/images/sea.jpeg" alt="img" width="20" height="20"> -->
          <i class="fas fa-home mr-10px color-gray"></i>
          <span>{{request.unit.location}}</span>
        </div>
        <div class=rental-requests-details--2>
          <!-- <img class="mr-10px" src="../../../assets/images/sea.jpeg" alt="img" width="20" height="20"> -->
          <i class="far fa-calendar-alt mr-10px color-gray"></i>
          <span>{{request.fromDate | date}} - {{request.toDate | date}}</span>
        </div>
      </div>
      <div class="rental-requests-subdetails">
        {{request.note}}
      </div>
      <hr>
      <div class="approvedActions" *ngIf="RequestType === 'approved'">
        <div class="rental-time-container">
          <div class="rental-time-container_details">
            {{request.unit.paymentLinkExpiresAfter | CounterPipe}}

           <!-- <span hidden>{{setTimeOut(request.unit.paymentLinkExpiresAfter)}}</span>
           <span >{{time}}</span> -->
            <!-- <div>05h</div>
            <div>30m</div>
            <div>30s</div> -->
          </div>
        </div>
        <hr>
        <div>
          <span class="mr-10px">{{'RentalRequests.PaymentLink' | translate}}:</span><button (click)="sendPaymentData(request)">{{'RentalRequests.PayNow' | translate}}</button>
        </div>
      </div>
      <div class="ongoingActions" *ngIf="RequestType === 'ongoing'">
        <button class="btn btn-primary" (click)="openDirection(request.unit.latitude, request.unit.longitude)">{{'RentalRequests.GetDirection' | translate}}</button>
        <a [routerLink]="['../rental-requests/report-issue']" [queryParams]="{ unetrequestid: request.requestNumber}" >{{'RentalRequests.ReportIssue' | translate}}</a>
        <button (click)="cancelRequest(i,request.requestNumber)">{{'RentalRequests.Cancel' | translate}}</button>
      </div>
      <div class="rejectedActions" *ngIf="RequestType === 'reject'" >
        <button (click)="cancelRequest(i,request.requestNumber)">{{'RentalRequests.Cancel' | translate}}</button>
      </div>
      <div class="PendingActions" *ngIf="RequestType === 'pending'"  >
        <button (click)="cancelRequest(i,request.requestNumber)">{{'RentalRequests.Cancel' | translate}}</button>
      </div>
    </div>
  </ng-container>

</div>


<!-- <app-payment-modal [paymentData]='paymentData' (closePaymentModal)="closePaymentModal($event)" [showPaymentModal]="showPaymentModal">
</app-payment-modal> -->
